set  -g default-terminal "xterm-256color"
set  -g base-index      0
setw -g pane-base-index 0
set  -g default-shell   $_TMUX_SHELL # This quietly fail

set -g status-keys emacs
set -g mode-keys   emacs

set  -g mouse             off
set  -g focus-events      off
setw -g aggressive-resize off
setw -g clock-mode-style  12
set  -s escape-time       500
set  -g history-limit     1000000

set-environment -g TMUX_PLUGIN_MANAGER_PATH "$HOME/.local/share/tmux_plugins"

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-cpu' # For display
set -g @plugin "arcticicestudio/nord-tmux" # For themeing
set -g @nord_tmux_show_status_content "0"

# Customizing the status bar
set -g status-position bottom
set -g status-justify left
set -g status-style 'bg=black fg=white'

set -g status-left ''
set -g status-left-length 10

set -g status-right '#[fg=yellow]#[bg=yellow,fg=black] #{cpu_percentage}   #{ram_percentage}#[fg=yellow,bg=black] #[fg=color25,bg=black]#[bg=color25,fg=white] #[fg=black,bg=blue] #S@#H #[fg=blue,bg=default]'
set -g status-right-length 50

setw -g window-status-separator ' '
setw -g window-status-current-format '#[fg=color25,bg=black]#[fg=white,bg=color25]󱂬 #I #[fg=black,bg=blue] #W #F#[fg=blue,bg=black]'
setw -g window-status-format '#[fg=white,bg=default]#[fg=black,bg=white]󰖰 #I #[fg=white,bg=color236] #W#[fg=yellow] #F#[fg=color236,bg=black]'

# Setting up the directories for install
run-shell "if [[ ! -d $HOME/.local/share/tpm ]] ; then git clone https://github.com/tmux-plugins/tpm $HOME/.local/share/tpm ; fi"
run-shell "if [[ ! -d $TMUX_PLUGIN_MANAGER_PATH ]] ; then mkdir -p $TMUX_PLUGIN_MANAGER_PATH ; fi"

# ============================================= #
# Required to image viewing in tmux
set-option -g allow-passthrough all

# Spawning "standard windows"
bind-key 0 "run-shell \"$HOME/.config/tmux/_tmux_custom.sh explore_window  #{session_name}\"\; select-window -t 0"
bind-key 1 "run-shell \"$HOME/.config/tmux/_tmux_custom.sh editor_window   #{session_name}\"\; select-window -t 1"
bind-key e "run-shell \"$HOME/.config/tmux/_tmux_custom.sh editor_window   #{session_name}\"\; select-window -t 1"
bind-key 2 "run-shell \"$HOME/.config/tmux/_tmux_custom.sh monitor_window  #{session_name}\"\; select-window -t 2"
bind-key m "run-shell \"$HOME/.config/tmux/_tmux_custom.sh monitor_window  #{session_name}\"\; select-window -t 2"
bind-key 9 "run-shell \"$HOME/.config/tmux/_tmux_custom.sh _guard_repl_bkg #{session_name}\"\; select-window -t 9"

# running the package manager
run $HOME/.local/share/tpm/tpm

# Installing the custom tmux plugins
run-shell $HOME/.config/tmux-plugins-custom/cluster-session/cluster-session.tmux
